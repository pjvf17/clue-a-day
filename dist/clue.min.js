import"../src/style.scss";const f=a=>{for(var o=2166136261,l=o,c=0;c<a.length;++c)l^=a.charCodeAt(c),l+=(l<<1)+(l<<4)+(l<<7)+(l<<8)+(l<<24);return l>>>0},g=a=>{const o=document.getElementById("crossword-container");function l(t){return document.getElementById(`cell-${t}`)}function c(t,n=!0){var r;let e=t;for(;e<a-1;){e++;const s=l(e);if(!n||!(s!=null&&s.classList.contains("revealed-letter")))break}return(r=l(e))==null||r.focus(),e}function u(t,n=!0){var r;let e=t;for(;e>0;){e--;const s=l(e);if(!n||!(s!=null&&s.classList.contains("revealed-letter")))break}return(r=l(e))==null||r.focus(),e}for(let t=0;t<a;t++){const n=document.createElement("div");n.className="crossword-cell",o.appendChild(n);const e=document.createElement("input");e.type="text",e.classList.add("crossword-cell-input"),e.id=`cell-${t}`,n.appendChild(e),e.addEventListener("focus",()=>{const r=document.querySelector(".active-cell");r&&r!==e&&r.classList.remove("active-cell"),e.classList.add("active-cell")}),e.addEventListener("input",r=>{const s=r.target,i=s.value.toUpperCase();if(e.classList.contains("revealed-letter")){s.value=i.charAt(0),c(t);return}i.length>0&&(s.value=i.charAt(i.length-1),c(t))}),e.addEventListener("keydown",r=>{if(r.key==="ArrowRight")r.preventDefault(),c(t,!1);else if(r.key==="ArrowLeft")r.preventDefault(),u(t,!1);else if(r.key==="Backspace"){if(r.preventDefault(),e.value===""){const s=l(u(t,!1));s&&!(s!=null&&s.classList.contains("revealed-letter"))&&(s.value="")}else e.classList.contains("revealed-letter")||(e.value="");u(t,!1)}})}const v=()=>{let t="";for(let n=0;n<a;n++){const e=document.getElementById(`cell-${n}`);t+=((e==null?void 0:e.value)||"").toUpperCase()}return f(t)},d=(t,n)=>{const e=document.getElementById(`cell-${t}`);e.value=n,e.focus(),e.classList.add("revealed-letter")},m=()=>{const t=document.querySelector(".active-cell");return t?Array.from(document.querySelectorAll("input")).indexOf(t):-1};return{container:o,getUserInputHash:v,setLetter:d,getActive:m,revealLetter:(t,n)=>{const e=atob(t);if(n||(n=m()),n<0||n>=e.length)throw new Error("Position out of bounds");const r=e.charAt(n);d(n,r)}}},E=(a,o)=>{const l=document.getElementById("result"),c=a();o()===c?(l.textContent="\u2705 Correct!",l.style.color="green"):(l.textContent="\u274C Try Again.",l.style.color="red")};export{E as compareHashes,f as fnv32a,g as generateInteractiveCrossword};
